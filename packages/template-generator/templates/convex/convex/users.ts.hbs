import { query } from './_generated/server'
import { authComponent } from './auth'

// Get current user from Better Auth session
export const current = query({
  args: {},
  handler: async (ctx) => {
    return authComponent.getAuthUser(ctx)
  },
})

// Alias for current user - used by dashboard components
export const viewer = query({
  args: {},
  handler: async (ctx) => {
    return authComponent.getAuthUser(ctx)
  },
})
