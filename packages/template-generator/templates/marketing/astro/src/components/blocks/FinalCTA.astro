---
interface FinalCTALink {
  label: string
  href: string
  variant: "default" | "outline"
}

interface Props {
  headline?: string
  subheading?: string
  links?: FinalCTALink[]
  style?: "dark" | "light" | "gradient"
}

const {
  headline = "Ready to transform how your team works?",
  subheading = "Join thousands of teams who chose the smarter way to work. Start free, upgrade as you grow.",
  links = [
    { label: "Start free trial", href: "/sign-up", variant: "outline" },
    { label: "Book a demo", href: "/contact", variant: "default" },
  ],
  style = "dark",
} = Astro.props

const bgClasses = {
  dark: "bg-primary text-primary-foreground",
  light: "bg-muted text-foreground",
  gradient: "bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",
}

const buttonClasses = {
  dark: {
    default: "bg-primary-foreground text-primary hover:bg-primary-foreground/90",
    outline: "border border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/10",
  },
  light: {
    default: "bg-primary text-primary-foreground hover:bg-primary/90",
    outline: "border border-border hover:bg-background",
  },
  gradient: {
    default: "bg-background text-foreground hover:bg-background/90",
    outline: "border border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/10",
  },
}

const subtextClasses = {
  dark: "text-primary-foreground/80",
  light: "text-muted-foreground",
  gradient: "text-primary-foreground/80",
}
---

<section class:list={["py-16 md:py-24", bgClasses[style]]}>
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight mb-6">
        {headline}
      </h2>
      {subheading && (
        <p class:list={["text-lg md:text-xl mb-8", subtextClasses[style]]}>
          {subheading}
        </p>
      )}

      {links && links.length > 0 && (
        <div class="flex flex-wrap gap-4 justify-center">
          {links.map((link) => (
            <a
              href={link.href}
              class:list={[
                "inline-flex items-center justify-center px-6 py-3 text-sm font-medium rounded-md transition-colors",
                buttonClasses[style][link.variant]
              ]}
            >
              {link.label}
            </a>
          ))}
        </div>
      )}
    </div>
  </div>
</section>
