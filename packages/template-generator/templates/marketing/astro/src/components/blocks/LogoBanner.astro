---
interface Logo {
  name: string
  initials?: string
}

interface Props {
  heading?: string
  logos?: Logo[]
  style?: "scroll" | "grid"
}

const defaultLogos: Logo[] = [
  { name: "TechFlow Inc", initials: "TF" },
  { name: "Acme Corp", initials: "AC" },
  { name: "Evergreen HQ", initials: "EH" },
  { name: "Atlas Network", initials: "AN" },
  { name: "Beacon Digital", initials: "BD" },
  { name: "Cascade Systems", initials: "CS" },
]

const {
  heading = "Trusted by fast-growing companies everywhere",
  logos = defaultLogos,
  style = "scroll",
} = Astro.props

const displayLogos = logos.length > 0 ? logos : defaultLogos
---

<section class="py-12 md:py-16 border-y border-border/50">
  <div class="container mx-auto px-4">
    {heading && (
      <p class="text-center text-sm text-muted-foreground mb-8 uppercase tracking-wider">
        {heading}
      </p>
    )}

    {style === "scroll" ? (
      <div class="logo-scroll-container">
        <div class="logo-scroll-track">
          {[...displayLogos, ...displayLogos].map((logo, index) => (
            <div class="logo-item flex items-center justify-center px-6 md:px-8 grayscale hover:grayscale-0 transition-all duration-300">
              <div class="flex items-center gap-2">
                <span class="w-8 h-8 rounded bg-muted flex items-center justify-center text-xs font-bold text-foreground">
                  {logo.initials || logo.name.slice(0, 2).toUpperCase()}
                </span>
                <span class="text-sm font-medium text-muted-foreground hidden md:block">
                  {logo.name}
                </span>
              </div>
            </div>
          ))}
        </div>
      </div>
    ) : (
      <div class="grid grid-cols-3 md:grid-cols-6 gap-8 items-center justify-items-center">
        {displayLogos.map((logo) => (
          <div class="logo-item flex items-center justify-center px-6 md:px-8 grayscale hover:grayscale-0 transition-all duration-300">
            <div class="flex items-center gap-2">
              <span class="w-8 h-8 rounded bg-muted flex items-center justify-center text-xs font-bold text-foreground">
                {logo.initials || logo.name.slice(0, 2).toUpperCase()}
              </span>
              <span class="text-sm font-medium text-muted-foreground hidden md:block">
                {logo.name}
              </span>
            </div>
          </div>
        ))}
      </div>
    )}
  </div>
</section>

<style>
  .logo-scroll-container {
    overflow: hidden;
    mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
  }

  .logo-scroll-track {
    display: flex;
    animation: scroll 30s linear infinite;
    width: max-content;
  }

  @keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  .logo-scroll-container:hover .logo-scroll-track {
    animation-play-state: paused;
  }
</style>
